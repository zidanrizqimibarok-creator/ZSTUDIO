<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIZET OS v18.0 ETERNAL</title>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        :root {
            --red: #ff0000;
            --dark: #000000;
            --glass: rgba(15, 15, 15, 0.95);
            --neon: 0 0 20px rgba(255, 0, 0, 0.5);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background: var(--dark); color: white;
            font-family: 'Inter', sans-serif; overflow: hidden;
        }

        /* --- PRE-LOADER (WELCOME ONLY) --- */
        #boot-loader {
            position: fixed; inset: 0; background: #000; z-index: 1000000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .b-logo {
            font-size: 8rem; font-weight: 900; color: var(--red);
            letter-spacing: 50px; text-shadow: var(--neon);
            animation: pulse 3s ease-in-out infinite;
        }
        .welcome-tag {
            font-size: 1.5rem; letter-spacing: 10px; margin-top: 20px;
            opacity: 0; animation: fadeIn 2s 2s forwards;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- PERSISTENT INTERFACE (PINTASAN TIDAK AKAN ILANG) --- */
        #main-ui {
            position: relative; width: 100%; height: 100%;
            display: flex; flex-direction: column; z-index: 10;
        }

        #dashboard {
            flex: 1; display: flex; flex-direction: column; justify-content: center;
            padding: 0 10%; background: radial-gradient(circle at center, #110000 0%, #000 100%);
        }

        .clock-v { font-size: 10rem; font-weight: 100; margin: 0; letter-spacing: -5px; }
        .date-v { font-size: 1.2rem; color: #666; letter-spacing: 15px; text-transform: uppercase; }

        /* FIXED SHORTCUT BAR (Z-INDEX TERTINGGI) */
        .shortcut-bar {
            position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
            display: flex; gap: 20px; z-index: 99999; /* Selalu di atas web */
            background: var(--glass); padding: 15px 30px; border-radius: 40px;
            border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .shortcut-bar.autohide { transform: translateX(-50%) translateY(150px); opacity: 0; }

        .app-icon {
            width: 120px; height: 80px; background: rgba(255,255,255,0.03);
            border-radius: 20px; display: flex; justify-content: center; align-items: center;
            cursor: pointer; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
            font-weight: bold; font-size: 0.8rem; letter-spacing: 2px;
        }
        .app-icon:hover { background: var(--red); transform: scale(1.1); box-shadow: var(--neon); }

        /* --- WEB FRAME ENGINE --- */
        #web-engine {
            position: fixed; inset: 0; background: #000;
            display: none; z-index: 50; /* Di bawah shortcut bar */
        }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- SETTINGS OVERLAY --- */
        #settings-menu {
            position: fixed; inset: 0; background: rgba(0,0,0,0.98);
            z-index: 100000; display: none; justify-content: center; align-items: center;
        }
        .s-box {
            width: 80%; max-width: 900px; height: 550px; background: #080808;
            border-radius: 50px; border: 1px solid #222; display: flex; overflow: hidden;
        }
        .s-left { width: 30%; background: #0c0c0c; padding: 40px 20px; border-right: 1px solid #222; }
        .s-right { flex: 1; padding: 50px; }
        .s-btn {
            width: 100%; padding: 15px; margin-bottom: 10px; border-radius: 15px;
            background: #151515; border: none; color: white; cursor: pointer; text-align: left;
        }
        .s-btn:hover { background: var(--red); }
        .qr-area { background: white; padding: 10px; border-radius: 15px; display: inline-block; }

        /* SHUTDOWN CRT */
        .shutdown-anim { animation: crtOff 0.8s forwards ease-in; }
        @keyframes crtOff { 
            0% { transform: scale(1); }
            50% { transform: scale(1.2, 0.001); filter: brightness(10); }
            100% { transform: scale(0); opacity: 0; }
        }
    </style>
</head>
<body>

    <div id="boot-loader">
        <div class="b-logo">BIZET</div>
        <div class="welcome-tag">WELCOME TO ETERNAL</div>
    </div>

    <div id="main-ui">
        <div id="dashboard">
            <h1 class="clock-v" id="cl">00:00</h1>
            <p class="date-v" id="dt">LOADING SYSTEM...</p>
        </div>

        <div class="shortcut-bar" id="bar">
            <div class="app-icon" onclick="launch('https://www.tiktok.com')">TIKTOK</div>
            <div class="app-icon" onclick="launch('https://m.youtube.com')">YOUTUBE</div>
            <div class="app-icon" onclick="launch('https://poki.com')">GAMES</div>
            <div class="app-icon" style="border-color: var(--red)" onclick="toggleSet()">SETTINGS</div>
        </div>
    </div>

    <div id="web-engine"><iframe id="ifr" src=""></iframe></div>

    <div id="settings-menu">
        <div class="s-box">
            <div class="s-left">
                <button class="s-btn" onclick="home()">üè† HOME SCREEN</button>
                <button class="s-btn" onclick="location.reload()">üîÑ RESTART</button>
                <button class="s-btn" style="background: #300" onclick="off()">üî¥ SHUTDOWN</button>
            </div>
            <div class="s-right">
                <h1 style="color:red; margin:0;">BIZET ETERNAL</h1>
                <p style="color:#444">Version 18.0 | Polytron Apex Optimized</p>
                <hr border="1" color="#222" style="margin:20px 0">
                <p>REMOTE QUANTUM CODE:</p>
                <div class="qr-area" id="qr"></div>
                <p><small style="color:#555">Pindai untuk navigasi D-Pad HP</small></p>
            </div>
        </div>
    </div>

    <script>
        const firebaseConfig = { databaseURL: "https://bizet-tv-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // --- SYSTEM ENGINE ---
        setTimeout(() => {
            const bl = document.getElementById('boot-loader');
            bl.style.transition = '2s'; bl.style.opacity = '0';
            setTimeout(() => bl.style.display = 'none', 2000);
        }, 5000);

        function clock() {
            const d = new Date();
            document.getElementById('cl').innerText = d.getHours().toString().padStart(2,'0') + ":" + d.getMinutes().toString().padStart(2,'0');
            const opt = { weekday: 'long', day: 'numeric', month: 'long' };
            document.getElementById('dt').innerText = d.toLocaleDateString('id-ID', opt);
        }
        setInterval(clock, 1000); clock();

        // --- NAVIGATION ---
        function launch(url) {
            document.getElementById('ifr').src = url;
            document.getElementById('web-engine').style.display = 'block';
            document.getElementById('bar').classList.add('autohide'); // Sembunyi, muncul via mouse
        }

        function home() {
            document.getElementById('web-engine').style.display = 'none';
            document.getElementById('ifr').src = '';
            document.getElementById('bar').classList.remove('autohide');
            document.getElementById('settings-menu').style.display = 'none';
        }

        function toggleSet() {
            const s = document.getElementById('settings-menu');
            s.style.display = (s.style.display === 'flex') ? 'none' : 'flex';
        }

        function off() {
            document.getElementById('settings-menu').style.display = 'none';
            document.body.classList.add('shutdown-anim');
            setTimeout(() => { document.body.innerHTML = ''; }, 800);
        }

        // Munculkan Bar saat mouse di bawah
        window.addEventListener('mousemove', (e) => {
            if(e.clientY > window.innerHeight - 100) document.getElementById('bar').classList.remove('autohide');
        });

        // --- QR ---
        new QRCode(document.getElementById("qr"), {
            text: window.location.href.replace('bizet_os.html', 'remote.html'),
            width: 150, height: 150
        });

        // --- REMOTE LISTENER (D-PAD) ---
        db.ref('BIZET_REMOTE_DPAD').on('value', (snap) => {
            const cmd = snap.val();
            if(!cmd) return;

            if(cmd === 'UP') window.scrollBy(0, -300);
            if(cmd === 'DOWN') window.scrollBy(0, 300);
            if(cmd === 'LEFT') history.back();
            if(cmd === 'RIGHT') history.forward();
            if(cmd === 'HOME') home();
            if(cmd === 'OK') document.getElementById('ifr').focus();

            db.ref('BIZET_REMOTE_DPAD').set(null); // Reset
        });
    </script>
</body>
</html>
