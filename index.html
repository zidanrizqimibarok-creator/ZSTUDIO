<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIZET OS v17.0 APEX QUANTUM</title>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        :root {
            --red: #ff0000;
            --dark: #000000;
            --glass: rgba(255, 255, 255, 0.08);
            --accent-glow: rgba(255, 0, 0, 0.3);
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background: var(--dark); color: white;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden; -webkit-font-smoothing: antialiased;
        }

        /* =========================================
           1. CINEMATIC WELCOME (NO TEXT BOOT)
           ========================================= */
        #boot-layer {
            position: fixed; inset: 0; background: #000; z-index: 1000000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .b-logo {
            font-size: 7rem; font-weight: 900; color: var(--red);
            letter-spacing: 40px; text-shadow: 0 0 50px var(--accent-glow);
            opacity: 0; transform: scale(0.8);
            animation: b-breath 4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        .w-text {
            font-size: 2.5rem; letter-spacing: 15px; font-weight: 200;
            margin-top: -20px; opacity: 0;
        }
        @keyframes b-breath {
            0% { opacity: 0; transform: scale(0.8); filter: blur(10px); }
            30% { opacity: 1; transform: scale(1); filter: blur(0px); }
            70% { opacity: 1; transform: scale(1.05); filter: blur(0px); }
            100% { opacity: 0; transform: scale(1.2); filter: blur(20px); }
        }
        .welcome-active { animation: w-fade 2s 3.5s forwards; }
        @keyframes w-fade {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* =========================================
           2. MAIN DASHBOARD UI
           ========================================= */
        #dashboard {
            height: 100vh; width: 100%; display: flex; flex-direction: column;
            justify-content: center; padding: 0 10%; box-sizing: border-box;
            background: radial-gradient(circle at 50% 50%, #150000 0%, #000 100%);
            transition: 1.2s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .clock-section { margin-bottom: 60px; pointer-events: none; }
        .clock { font-size: 11rem; font-weight: 100; margin: 0; letter-spacing: -10px; line-height: 1; }
        .date { font-size: 1.5rem; letter-spacing: 15px; color: #555; text-transform: uppercase; }

        /* APP MATRIX (FIXED SHORTCUTS) */
        .app-matrix { display: flex; gap: 25px; margin-top: 20px; overflow: visible; }
        .app-card {
            min-width: 240px; height: 140px; background: var(--glass);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 25px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            cursor: pointer; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(15px); position: relative;
        }
        .app-card:hover {
            background: var(--red); transform: translateY(-20px) scale(1.05);
            box-shadow: 0 30px 60px rgba(255,0,0,0.4); border-color: #fff;
        }
        .app-card i { font-size: 2.5rem; margin-bottom: 12px; font-style: normal; }
        .app-card b { letter-spacing: 4px; font-size: 1.1rem; }

        /* =========================================
           3. NAVIGATION & SYSTEM OVERLAY
           ========================================= */
        #nav-bar {
            position: fixed; bottom: 35px; left: 50%; transform: translateX(-50%);
            width: 450px; height: 80px; background: rgba(10,10,10,0.9);
            border-radius: 100px; border: 1px solid #222; backdrop-filter: blur(25px);
            display: flex; justify-content: space-around; align-items: center;
            z-index: 10000; transition: 0.8s;
        }
        #nav-bar.hidden { transform: translateX(-50%) translateY(150px); opacity: 0; }
        .nav-item { 
            width: 60px; height: 60px; display: flex; justify-content: center; 
            align-items: center; cursor: pointer; border-radius: 50%; transition: 0.3s;
        }
        .nav-item:hover { background: rgba(255,255,255,0.1); }
        .icon-tri { width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-right: 20px solid white; }
        .icon-cir { width: 28px; height: 28px; border: 5px solid white; border-radius: 50%; }
        .icon-squ { width: 24px; height: 24px; border: 4px solid white; border-radius: 6px; }

        /* =========================================
           4. QUANTUM SETTINGS
           ========================================= */
        #settings-ui {
            position: fixed; inset: 0; background: rgba(0,0,0,0.98);
            z-index: 200000; display: none; justify-content: center; align-items: center;
        }
        .s-window {
            width: 900px; height: 600px; background: #080808; border-radius: 40px;
            border: 1px solid #222; display: grid; grid-template-columns: 280px 1fr; overflow: hidden;
        }
        .s-menu { background: #111; padding: 40px 20px; border-right: 1px solid #222; }
        .s-body { padding: 50px; position: relative; }
        .s-btn {
            width: 100%; padding: 18px; margin-bottom: 15px; border-radius: 20px;
            background: #1a1a1a; border: none; color: white; text-align: left;
            cursor: pointer; transition: 0.3s; font-weight: bold;
        }
        .s-btn:hover { background: var(--red); }
        .qr-display { background: white; padding: 15px; border-radius: 20px; display: inline-block; margin-top: 20px; }

        /* =========================================
           5. WEB VIEW & SHUTDOWN
           ========================================= */
        #web-engine { position: fixed; inset: 0; background: #000; display: none; z-index: 5000; }
        iframe { width: 100%; height: 100%; border: none; }
        
        .shutdown-crt { animation: crt-off 0.7s cubic-bezier(0.23, 1, 0.32, 1) forwards; }
        @keyframes crt-off {
            0% { transform: scale(1); filter: brightness(1) white-space: normal; }
            40% { transform: scale(1.4, 0.005); filter: brightness(10); }
            100% { transform: scale(0); opacity: 0; }
        }

        #sync-notif {
            position: fixed; top: 30px; right: 30px; background: var(--red);
            padding: 10px 30px; border-radius: 50px; font-weight: bold;
            display: none; z-index: 1000000; animation: bounce 1s infinite;
        }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
    </style>
</head>
<body>

    <div id="boot-layer">
        <div class="b-logo">BIZET</div>
        <div class="w-text welcome-active">WELCOME TO BIZET OS</div>
    </div>

    <div id="sync-notif">QUANTUM SYNC</div>

    <div id="dashboard">
        <div class="clock-section">
            <h1 class="clock" id="main-time">00:00</h1>
            <div class="date" id="main-date">...</div>
        </div>

        <div class="app-matrix">
            <div class="app-card" onclick="launch('https://www.tiktok.com')"><i>üì±</i><b>TIKTOK</b></div>
            <div class="app-card" onclick="launch('https://m.youtube.com')"><i>üé¨</i><b>YOUTUBE</b></div>
            <div class="app-card" onclick="launch('https://poki.com')"><i>üéÆ</i><b>GAMES</b></div>
            <div class="app-card" onclick="toggleSettings()" style="border-color: var(--red)"><i>‚öôÔ∏è</i><b>SETTINGS</b></div>
        </div>
    </div>

    <div id="web-engine"><iframe id="frame-engine" src=""></iframe></div>

    <div id="nav-bar">
        <div class="nav-item" onclick="navBack()"><div class="icon-tri"></div></div>
        <div class="nav-item" onclick="navHome()"><div class="icon-cir"></div></div>
        <div class="nav-item" onclick="toggleSettings()"><div class="icon-squ"></div></div>
    </div>

    <div id="settings-ui">
        <div class="s-window">
            <div class="s-menu">
                <button class="s-btn" onclick="navHome()">HOME SCREEN</button>
                <button class="s-btn" onclick="location.reload()">REBOOT OS</button>
                <button class="s-btn" style="background: #300;" onclick="triggerShutdown()">SHUTDOWN</button>
            </div>
            <div class="s-body">
                <h1 style="color:red; margin:0; letter-spacing:5px;">APEX v17.0</h1>
                <p style="color:#444">Titanium Kernel | Device: Polytron Smart</p>
                <hr style="border:0; border-top:1px solid #222; margin:30px 0;">
                
                <p>REMOTE QUANTUM D-PAD</p>
                <div class="qr-display" id="qr-target"></div>
                <p style="font-size: 0.8rem; color:#555; margin-top:15px;">Scan untuk kendali tanpa mouse</p>
            </div>
        </div>
    </div>

    <script>
        // --- FIREBASE CORE ---
        const firebaseConfig = { databaseURL: "https://bizet-tv-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // --- BOOTING & TIME ---
        setTimeout(() => {
            const boot = document.getElementById('boot-layer');
            boot.style.transition = '1.5s ease';
            boot.style.opacity = '0';
            setTimeout(() => boot.style.display = 'none', 1500);
        }, 6000);

        function updateTime() {
            const d = new Date();
            document.getElementById('main-time').innerText = d.getHours().toString().padStart(2,'0') + ":" + d.getMinutes().toString().padStart(2,'0');
            const opt = { weekday: 'long', day: 'numeric', month: 'long' };
            document.getElementById('main-date').innerText = d.toLocaleDateString('id-ID', opt);
        }
        setInterval(updateTime, 1000); updateTime();

        // --- NAVIGATION LOGIC ---
        function launch(url) {
            const ifr = document.getElementById('frame-engine');
            ifr.src = url;
            document.getElementById('web-engine').style.display = 'block';
            document.getElementById('dashboard').style.opacity = '0';
            document.getElementById('nav-bar').classList.add('hidden');
        }

        function navHome() {
            document.getElementById('web-engine').style.display = 'none';
            document.getElementById('frame-engine').src = '';
            document.getElementById('dashboard').style.opacity = '1';
            document.getElementById('nav-bar').classList.remove('hidden');
            document.getElementById('settings-ui').style.display = 'none';
        }

        function navBack() {
            try { document.getElementById('frame-engine').contentWindow.history.back(); } catch(e) { navHome(); }
        }

        function toggleSettings() {
            const s = document.getElementById('settings-ui');
            s.style.display = (s.style.display === 'flex') ? 'none' : 'flex';
        }

        function triggerShutdown() {
            document.getElementById('settings-ui').style.display = 'none';
            document.body.classList.add('shutdown-crt');
            setTimeout(() => { document.body.innerHTML = ''; document.body.style.background = 'black'; }, 700);
        }

        // --- AUTO-SHOW NAV BAR ---
        window.addEventListener('mousemove', (e) => {
            if(e.clientY > window.innerHeight - 80) {
                document.getElementById('nav-bar').classList.remove('hidden');
            }
        });

        // --- QR GENERATOR (DIRECT TO REMOTE) ---
        new QRCode(document.getElementById("qr-target"), {
            text: window.location.href.replace('bizet_os.html', 'remote.html'),
            width: 180, height: 180
        });

        // --- QUANTUM D-PAD RECEIVER ---
        db.ref('BIZET_REMOTE_DPAD').on('value', (snap) => {
            const cmd = snap.val();
            if(!cmd) return;

            document.getElementById('sync-notif').style.display = 'block';
            
            // Logika D-Pad
            if(cmd === 'UP') window.scrollBy(0, -200);
            if(cmd === 'DOWN') window.scrollBy(0, 200);
            if(cmd === 'HOME') navHome();
            if(cmd === 'BACK') navBack();
            if(cmd === 'RELOAD') location.reload();

            setTimeout(() => {
                document.getElementById('sync-notif').style.display = 'none';
                db.ref('BIZET_REMOTE_DPAD').set(null); // Clear trigger
            }, 500);
        });
    </script>
</body>
</html>
