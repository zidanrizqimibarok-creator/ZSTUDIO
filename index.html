<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIZET OS v12.0 QUANTUM</title>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-database-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <style>
        :root {
            --accent: #ff0000;
            --glass: rgba(255, 255, 255, 0.1);
            --bg-dark: #020202;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: var(--bg-dark); color: white;
            font-family: 'Inter', 'Segoe UI', sans-serif; overflow: hidden;
        }

        /* --- ADVANCED BOOTING --- */
        #boot-loader {
            position: fixed; inset: 0; background: #000; z-index: 9999999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }
        .bizet-logo-v12 {
            font-size: 5rem; font-weight: 900; letter-spacing: 30px;
            background: linear-gradient(to right, #fff, #ff0000, #fff);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: shine 3s infinite;
        }
        @keyframes shine { 0% { background-position: -500px; } 100% { background-position: 500px; } }

        /* --- DYNAMIC BACKGROUND --- */
        #canvas-bg { position: fixed; inset: 0; z-index: -1; opacity: 0.4; }

        /* --- DASHBOARD HOME --- */
        #home {
            padding: 5% 8%; height: 100vh; box-sizing: border-box;
            display: flex; flex-direction: column; justify-content: center;
            transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.5s;
        }
        .big-clock { font-size: 9rem; font-weight: 100; margin: 0; color: rgba(255,255,255,0.9); }
        .system-status { font-size: 1.2rem; color: var(--accent); letter-spacing: 8px; margin-bottom: 40px; }

        /* --- APP ROW --- */
        .app-row { display: flex; gap: 25px; overflow-x: auto; padding: 20px 5px; scrollbar-width: none; }
        .app-item {
            min-width: 280px; height: 160px; background: var(--glass);
            backdrop-filter: blur(30px); border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            cursor: pointer; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .app-item:hover {
            background: var(--accent); transform: scale(1.08) translateY(-10px);
            box-shadow: 0 25px 50px rgba(255,0,0,0.3);
        }
        .app-item i { font-size: 2.5rem; margin-bottom: 10px; }

        /* --- QUANTUM NAV BAR --- */
        #nav-bar {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            width: 400px; height: 75px; background: rgba(15,15,15,0.8);
            backdrop-filter: blur(25px); border-radius: 100px;
            display: flex; justify-content: space-around; align-items: center;
            border: 1px solid rgba(255,255,255,0.1); z-index: 999999;
            box-shadow: 0 20px 60px rgba(0,0,0,0.7);
        }
        .nav-btn { width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: 0.3s; }
        .nav-btn:active { transform: scale(0.7); }
        .icon-back { width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-right: 20px solid white; }
        .icon-home { width: 25px; height: 25px; border: 5px solid white; border-radius: 50%; }
        .icon-rec { width: 22px; height: 22px; border: 4px solid white; border-radius: 6px; }

        /* --- WEB VIEW --- */
        #web-view { position: fixed; inset: 0; background: #000; display: none; z-index: 1000; }
        iframe { width: 100%; height: 100%; border: none; }

        /* --- SETTINGS & QR PANEL --- */
        #settings-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95);
            display: none; justify-content: center; align-items: center; z-index: 2000000;
        }
        .settings-window {
            width: 700px; background: #0a0a0a; border-radius: 40px; border: 1px solid #222;
            padding: 50px; display: grid; grid-template-columns: 1.5fr 1fr; gap: 30px;
        }
        #qrcode { background: white; padding: 15px; border-radius: 15px; display: inline-block; }
        .btn-set { background: #1a1a1a; padding: 20px; border-radius: 20px; border: 1px solid #333; cursor: pointer; }
        .btn-set:hover { background: var(--accent); }

        /* --- SHUTDOWN CRT --- */
        .shutdown-crt { animation: crtEffect 0.7s forwards; }
        @keyframes crtEffect { 
            0% { transform: scale(1,1); filter: brightness(1); } 
            50% { transform: scale(1.5, 0.002); filter: brightness(5); } 
            100% { transform: scale(0); opacity: 0; } 
        }

        /* --- SYNC OVERLAY --- */
        #sync-screen {
            position: fixed; inset: 0; background: #000; z-index: 9999998;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        .loader-ring { width: 80px; height: 80px; border: 5px solid #111; border-top-color: red; border-radius: 50%; animation: rot 1s infinite linear; }
        @keyframes rot { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="boot-loader">
        <div class="bizet-logo-v12">BIZET</div>
        <p style="letter-spacing: 10px; color: #555;">QUANTUM OS v12.0</p>
    </div>

    <div id="sync-screen">
        <div class="loader-ring"></div>
        <h3 style="letter-spacing: 8px; margin-top: 30px;">RECEIVING QUANTUM UPDATE</h3>
    </div>

    <div id="home">
        <h1 class="big-clock" id="clock">00:00</h1>
        <div class="system-status">‚óè SYSTEM CONNECTED</div>
        
        <div class="app-row">
            <div class="app-item" onclick="openApp('https://www.tiktok.com')"><i>üì±</i><b>TIKTOK</b></div>
            <div class="app-item" onclick="openApp('https://m.youtube.com')"><i>üé¨</i><b>YOUTUBE</b></div>
            <div class="app-item" onclick="openApp('https://poki.com')"><i>üéÆ</i><b>GAMES</b></div>
            <div class="app-item" onclick="openApp('https://www.google.com/search?igu=1')"><i>üåê</i><b>BROWSER</b></div>
            <div class="app-item" onclick="toggleSettings()"><i>‚öôÔ∏è</i><b>SETTINGS</b></div>
        </div>
    </div>

    <div id="nav-bar">
        <div class="nav-btn" onclick="navBack()"><div class="icon-back"></div></div>
        <div class="nav-btn" onclick="navHome()"><div class="icon-home"></div></div>
        <div class="nav-btn" onclick="navRecent()"><div class="icon-rec"></div></div>
    </div>

    <div id="web-view">
        <iframe id="iframe" src=""></iframe>
    </div>

    <div id="settings-overlay">
        <div class="settings-window">
            <div>
                <h2 style="color:red; margin-top:0;">BIZET CONFIG</h2>
                <div class="btn-set" onclick="location.reload()">REFRESH SYSTEM</div><br>
                <div class="btn-set" onclick="alert('Checking for patches...')">PATCH UPDATE</div><br>
                <div class="btn-set" style="color:red;" onclick="shutdown()">SHUT DOWN</div>
            </div>
            <div style="text-align: center;">
                <p>REMOTE CONNECT</p>
                <div id="qrcode"></div>
                <p style="font-size: 10px; color:#555; margin-top:10px;">SCAN DENGAN HP UNTUK REMOTE</p>
            </div>
        </div>
    </div>

    <script>
        // --- FIREBASE BHDS ---
        const firebaseConfig = { databaseURL: "https://bizet-tv-default-rtdb.firebaseio.com" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // --- CLOCK ---
        function setTime() {
            const d = new Date();
            document.getElementById('clock').innerText = d.getHours().toString().padStart(2,'0') + ":" + d.getMinutes().toString().padStart(2,'0');
        }
        setInterval(setTime, 1000); setTime();

        // --- BOOTING ---
        setTimeout(() => {
            const bl = document.getElementById('boot-loader');
            bl.style.transition = "1s"; bl.style.opacity = "0";
            setTimeout(() => bl.style.display = 'none', 1000);
        }, 4000);

        // --- NAVIGATION ---
        function openApp(url) {
            const f = document.getElementById('iframe');
            f.src = url;
            document.getElementById('web-view').style.display = 'block';
            document.getElementById('home').style.transform = 'scale(0.8)';
            document.getElementById('home').style.opacity = '0';
        }

        function navHome() {
            document.getElementById('web-view').style.display = 'none';
            document.getElementById('iframe').src = '';
            document.getElementById('home').style.transform = 'scale(1)';
            document.getElementById('home').style.opacity = '1';
            document.getElementById('settings-overlay').style.display = 'none';
        }

        function navBack() { 
            try { document.getElementById('iframe').contentWindow.history.back(); } catch(e){} 
        }

        function navRecent() {
            // Animasi jendela multitasking
            const wv = document.getElementById('web-view');
            if(wv.style.display === 'block') {
                wv.style.transition = "0.5s";
                wv.style.transform = "scale(0.5) translateY(-500px)";
                wv.style.opacity = "0";
                setTimeout(() => {
                    navHome();
                    wv.style.transform = "scale(1) translateY(0)";
                    wv.style.opacity = "1";
                }, 500);
            }
        }

        function toggleSettings() {
            const s = document.getElementById('settings-overlay');
            s.style.display = (s.style.display === 'flex') ? 'none' : 'flex';
        }

        function shutdown() {
            document.getElementById('settings-overlay').style.display = 'none';
            document.body.classList.add('shutdown-crt');
            setTimeout(() => { document.body.innerHTML = ''; document.body.style.background = 'black'; }, 700);
        }

        // --- QR GENERATOR ---
        // Ganti URL ini dengan URL Center kamu agar pas di-scan langsung kebuka remotenya
        new QRCode(document.getElementById("qrcode"), {
            text: "https://your-center-url.html", 
            width: 150, height: 150
        });

        // --- BHDS SYNC ---
        db.ref('bizet_quantum').on('value', (snapshot) => {
            const data = snapshot.val();
            if(data) {
                document.getElementById('sync-screen').style.display = 'flex';
                navHome();
                setTimeout(() => {
                    if(data.type === 'url') openApp(data.content);
                    else {
                        const doc = document.getElementById('iframe').contentWindow.document;
                        doc.open(); doc.write(data.content); doc.close();
                        document.getElementById('web-view').style.display = 'block';
                    }
                    document.getElementById('sync-screen').style.display = 'none';
                }, 2000);
            }
        });
    </script>
</body>
</html>
